{% extends "base.html" %}

{% block title %}注册{% endblock %}

{% block head %}
    <script src="{{ url_for('static', filename='jquery/jquery.3.6.min.js') }}"></script>
    <script src="{{ url_for('static', filename='js/register.js') }}"></script>
    <style>
        /* 样式优化 */
        #success-message {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 50px;
            background-color: #dff0d8;
            border: 1px solid #ccc;
            border-radius: 5px;
            margin-bottom: 20px;
            padding: 10px;
            font-weight: bold;
            color: #3c763d;
            display: none; /* 默认隐藏 */
        }

    </style>
{% endblock %}

{% block body %}
    <!-- 在页面中添加一个用于显示成功消息的元素 -->
    <div id="success-message" style="display:none;"></div>

        <div class="row mt-4">
            <div class="col"></div>
            <div class="col">
                <!-- action="#" 默认提交本地-->
                <form method="POST" style="top: 100px;position: absolute;left: 50px">
                    <div class="form-group">
                        <label for="exampleInputEmail1">邮箱</label>
                        <input type="email" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp" name="email">
                        <small id="emailHelp" class="form-text text-muted">我们不会把邮箱用于其他用户</small>
                        {% if error.get("email")!=None and list_error[0]=="email" %}
                            <p style="color: #dc3545" id = "captcha">{{ error.get("email")[0] }}</p>
                        {% endif %}
                    </div>
                    <div class="form-group">
                        <label for="exampleInputEmail1">验证码</label>
                        <div class="input-group">
                            <input type="text" class="form-control" name="captcha">
                            <div class="input-group-append">
                                <button class="btn btn-outline-secondary" type="button" id="captcha-btn">获取验证码</button>
                            </div>
                        </div>
                        {% if error.get("captcha")!=None and list_error[0]=="captha"%}
                            <p style="color: #dc3545" id = "captcha">{{ error.get("captcha")[0] }}</p>
                        {% endif %}
                    </div>
                    <div class="form-group">
                        <label for="exampleInputEmail1">用户名</label>
                        <input type="text" class="form-control" name="username">
                        {% if error.get("username")!=None and list_error[0]=="username"%}
                            <p style="color: #dc3545" id = "captcha">{{ error.get("username")[0] }}</p>
                        {% endif %}
                    </div>
                    <div class="form-group">
                        <label for="exampleInputPassword1">密码</label>
                        <input type="password" class="form-control" id="exampleInputPassword1" name="password">
                        {% if error.get("password")!=None and list_error[0]=="password"%}
                            <p style="color: #dc3545" id = "captcha">{{ error.get("password")[0] }}</p>
                        {% endif %}
                    </div>
                    <div class="form-group">
                        <label for="exampleInputPassword1">确认密码</label>
                        <input type="password" class="form-control" name="password_confirm">
                        {% if error.get("password_confirm")!=None and list_error[0]=="password_confirm"%}
                            <p style="color: #dc3545" id = "captcha">{{ error.get("password_confirm")[0] }}</p>
                        {% endif %}
                    </div>
                    <button type="submit" class="btn btn-primary btn-block">立即注册</button>
                </form>
            </div>
            <div class="col"></div>
        </div>
{% endblock %}